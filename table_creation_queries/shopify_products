-- Creates the target table for Shopify order lines with column descriptions
CREATE OR REPLACE TABLE `sheets_base_schema.shopify_order_lines` (
  `order_line_id` INT64 OPTIONS(description = 'The ID of the line item.'),
  `index` INT64 OPTIONS(description = 'The index associated with the order.'),
  `name` STRING OPTIONS(description = 'The name of the product variant.'),
  `order_id` INT64 OPTIONS(description = 'The ID of the related order.'),
  `fulfillable_quantity` INT64 OPTIONS(description = 'The amount available to fulfill, calculated as follows: quantity - max(refunded_quantity, fulfilled_quantity) - pending_fulfilled_quantity - open_fulfilled_quantity'),
  `fulfillment_status` STRING OPTIONS(description = 'How far along an order is in terms line items fulfilled.'),
  `is_gift_card` BOOLEAN OPTIONS(description = 'Whether the item is a gift card. If true, then the item is not taxed or considered for shipping charges.'),
  `grams` INT64 OPTIONS(description = 'The weight of the item in grams.'),
  `pre_tax_price` FLOAT64 OPTIONS(description = 'The total pre tax price of the order.'),
  `pre_tax_price_set` STRING OPTIONS(description = 'The pre tax price of the line item in shop currency and presentment currency.'),
  `price` FLOAT64 OPTIONS(description = 'The price of the item before discounts have been applied in the shop currency.'),
  `price_set` STRING OPTIONS(description = 'The price of the line item in shop and presentment currencies.'),
  `product_id` INT64 OPTIONS(description = 'The ID of the product that the line item belongs to. Can be null if the original product associated with the order is deleted at a later date.'),
  `quantity` INT64 OPTIONS(description = 'The number of items that were purchased.'),
  `is_shipping_required` BOOLEAN OPTIONS(description = 'Whether the item requires shipping.'),
  `sku` STRING OPTIONS(description = 'The item\'s SKU (stock keeping unit).'),
  `is_taxable` BOOLEAN OPTIONS(description = 'Whether the item was taxable.'),
  `tax_code` STRING OPTIONS(description = 'This parameter applies only to the stores that have the Avalara AvaTax app installed. Specifies the Avalara tax code for the product variant.'),
  `title` STRING OPTIONS(description = 'The title of the product.'),
  `total_discount` FLOAT64 OPTIONS(description = 'The total amount of the discount allocated to the line item in the shop currency.'),
  `total_discount_set` STRING OPTIONS(description = 'The total amount allocated to the line item in the presentment currency.'),
  `variant_id` INT64 OPTIONS(description = 'The ID of the product variant.'),
  `variant_title` STRING OPTIONS(description = 'The title of the product variant. The title field is a concatenation of the option1, option2, and option3 fields. You can only update title indirectly using the option fields.'),
  `variant_inventory_management` STRING OPTIONS(description = '(DEPRECATED 2025-01-06) The fulfillment service that tracks the number of items in stock for the product variant.'),
  `vendor` STRING OPTIONS(description = 'The name of the item\'s supplier.'),
  `properties` STRING OPTIONS(description = 'Line item properties.'),
  `_fivetran_synced` TIMESTAMP OPTIONS(description = 'The time when a record was last updated by Fivetran.'),
  `source_relation` STRING OPTIONS(description = 'The schema or database this record came from, if you are unioning multiple connectors. Null if not.'),
  `order_lines_unique_key` STRING OPTIONS(description = 'Unique key representing an order line. Hashed on \'order_line_id\' and \'source_relation\'.'),
  `restock_types` STRING OPTIONS(description = 'List of how this refund line item affects inventory levels.'),
  `refunded_quantity` FLOAT64 OPTIONS(description = 'Quantity of the item that has been refunded.'),
  `refunded_subtotal` FLOAT64 OPTIONS(description = 'Subtotal amount of the refund applied to the order line in shop currency.'),
  `quantity_net_refunds` FLOAT64 OPTIONS(description = 'Quantity ordered, excluding refunds.'),
  `subtotal_net_refunds` FLOAT64 OPTIONS(description = 'Subtotal of the order line with refunds subtracted in shop currency.'),
  `variant_created_at` TIMESTAMP OPTIONS(description = 'The date and time (ISO 8601 format) when the product variant was created.'),
  `variant_updated_at` TIMESTAMP OPTIONS(description = 'The date and time when the product variant was last modified. Gets returned in ISO 8601 format.'),
  `inventory_item_id` INT64 OPTIONS(description = 'The unique identifier for the inventory item, which is used in the Inventory API to query for inventory information.'),
  `image_id` INT64 OPTIONS(description = 'Image id of the product variant associated with the order line.'),
  `variant_price` FLOAT64 OPTIONS(description = 'The price of the product variant.'),
  `variant_sku` STRING OPTIONS(description = 'A unique identifier for the product variant in the shop. Required in order to connect to a FulfillmentService.'),
  `variant_position` INT64 OPTIONS(description = 'The order of the product variant in the list of product variants. The first position in the list is 1. The position of variants is indicated by the order in which they are listed.'),
  `variant_inventory_policy` STRING OPTIONS(description = 'Whether customers are allowed to place an order for the product variant when it\'s out of stock.'),
  `variant_compare_at_price` STRING OPTIONS(description = 'The original price of the item before an adjustment or a sale in shop currency.'),
  `variant_fulfillment_service` STRING OPTIONS(description = '(DEPRECATED 2025-01-06) The fulfillment service associated with the product variant.'),
  `variant_is_taxable` BOOLEAN OPTIONS(description = 'Whether a tax is charged when the product variant is sold.'),
  `variant_barcode` STRING OPTIONS(description = 'The barcode, UPC, or ISBN number for the product.'),
  `variant_grams` FLOAT64 OPTIONS(description = '(DEPRECATED 2025-01-06) The weight of the product variant in grams.'),
  `variant_inventory_quantity` NUMERIC OPTIONS(description = 'An aggregate of inventory across all locations. To adjust inventory at a specific location, use the InventoryLevel resource.'),
  `variant_weight` FLOAT64 OPTIONS(description = '(DEPRECATED 2025-01-06) The weight of the product variant in the unit system specified with weight_unit.'),
  `variant_weight_unit` STRING OPTIONS(description = '(DEPRECATED 2025-01-06) The unit of measurement that applies to the product variant\'s weight. If you don\'t specify a value for weight_unit, then the shop\'s default unit of measurement is applied. Valid values: g, kg, oz, and lb.'),
  `variant_option_1` STRING OPTIONS(description = '(DEPRECATED 2025-01-06) The custom properties that a shop owner uses to define product variants. You can define three options for a product variant: option1, option2, option3.'),
  `variant_option_2` STRING OPTIONS(description = '(DEPRECATED 2025-01-06) The custom properties that a shop owner uses to define product variants. You can define three options for a product variant: option1, option2, option3.'),
  `variant_option_3` STRING OPTIONS(description = '(DEPRECATED 2025-01-06) The custom properties that a shop owner uses to define product variants. You can define three options for a product variant: option1, option2, option3.'),
  `variant_tax_code` STRING OPTIONS(description = 'This parameter applies only to the stores that have the Avalara AvaTax app installed. Specifies the Avalara tax code for the product variant.'),
  `variant_is_available_for_sale` BOOLEAN OPTIONS(description = 'Indicates whether the product variant is available for sale.'),
  `variant_display_name` STRING OPTIONS(description = 'The display name of the variant, based on the product\'s title and variant\'s title.'),
  `variant_legacy_resource_id` INT64 OPTIONS(description = 'The ID of the corresponding resource in the REST Admin API.'),
  `variant_has_components_required` BOOLEAN OPTIONS(description = 'Indicates whether a product variant requires components.'),
  `variant_sellable_online_quantity` INT64 OPTIONS(description = 'The total sellable quantity of the variant for online channels.'),
  `order_line_tax` FLOAT64 OPTIONS(description = 'Total taxes for the line item.')
)
OPTIONS (description = 'Contains processed order line item data from Shopify.');
