-- Amazon Selling Partner Order Items table creation query
-- Contains order item data from Amazon Selling Partner API
CREATE OR REPLACE TABLE `sheets_base_schema.amazon_selling_partner__order_items` (
  `source_relation` STRING OPTIONS(description = 'The `<database>`.`<schema>` this record came from.'),
  `amazon_order_id` STRING OPTIONS(description = 'An Amazon-defined order identifier, in 3-7-7 format.'),
  `order_item_id` STRING OPTIONS(description = 'An Amazon-defined item identifier for the associated item.'),
  `asin` STRING OPTIONS(description = 'The item\'s Amazon Standard Identification Number (ASIN).'),
  `seller_sku` STRING OPTIONS(description = 'The item\'s seller stock keeping unit (SKU).'),
  `title` STRING OPTIONS(description = 'The item\'s title.'),
  `product_info_detail_number_of_items` INT64 OPTIONS(description = 'The total number of items that are included in the ASIN.'),
  `scheduled_delivery_start_date` STRING OPTIONS(description = 'The start date of the scheduled delivery window in the time zone for the order destination. In ISO 8601 date time format.'), --different than fivetran
  `scheduled_delivery_end_date` STRING OPTIONS(description = 'The end date of the scheduled delivery window in the time zone for the order destination. In ISO 8601 date time format.'), --different than fivetran
  `quantity_ordered` INT64 OPTIONS(description = 'The number of items in the order.'),
  `quantity_shipped` INT64 OPTIONS(description = 'The number of items shipped.'),
  `item_price_amount` NUMERIC OPTIONS(description = 'The selling price of the order item. Note that an order item is an item and a quantity. This means that the value of ItemPrice is equal to the selling price of the item multiplied by the quantity ordered. ItemPrice excludes ShippingPrice and GiftWrapPrice.'),
  `item_price_currency_code` STRING OPTIONS(description = 'The three-digit currency code that the `item_price_amount` is listed in. In ISO 4217 format.'),
  `item_tax_amount` NUMERIC OPTIONS(description = 'The tax on the item price.'),
  `item_tax_currency_code` STRING OPTIONS(description = 'The three-digit currency code that the `item_tax_amount` is listed in. In ISO 4217 format.'),
  `shipping_discount_amount` NUMERIC OPTIONS(description = 'The discount on the shipping price.'),
  `shipping_discount_currency_code` STRING OPTIONS(description = 'The three-digit currency code that the `shipping_discount_amount` is listed in. In ISO 4217 format.'),
  `shipping_discount_tax_amount` NUMERIC OPTIONS(description = 'The tax on the discount on the shipping price.'),
  `shipping_discount_tax_currency_code` STRING OPTIONS(description = 'The three-digit currency code that the `shipping_discount_tax_amount` is listed in. In ISO 4217 format.'),
  `shipping_price_amount` NUMERIC OPTIONS(description = 'The item\'s shipping price.'),
  `shipping_price_currency_code` STRING OPTIONS(description = 'The three-digit currency code that the `shipping_price_amount` is listed in. In ISO 4217 format.'),
  `shipping_tax_amount` NUMERIC OPTIONS(description = 'The tax on the shipping price.'),
  `shipping_tax_currency_code` STRING OPTIONS(description = 'The three-digit currency code that the `shipping_tax_amount` is listed in. In ISO 4217 format.'),
  `promotion_discount_amount` NUMERIC OPTIONS(description = 'The total of all promotional discounts in the offer.'),
  `promotion_discount_currency_code` STRING OPTIONS(description = 'The three-digit currency code that the `promotion_discount_amount` is listed in. In ISO 4217 format.'),
  `promotion_discount_tax_amount` NUMERIC OPTIONS(description = 'The tax on the total of all promotional discounts in the offer.'),
  `promotion_discount_tax_currency_code` STRING OPTIONS(description = 'The three-digit currency code that the `promotion_discount_tax_amount` is listed in. In ISO 4217 format.'),
  `condition_id` STRING OPTIONS(description = 'The condition of the item. Possible values: New, Used, Collectible, Refurbished, Preorder, and Club.'),
  `condition_note` STRING OPTIONS(description = 'The condition of the item, as described by the seller.'),
  `condition_subtype_id` STRING OPTIONS(description = 'The subcondition of the item. Possible values: New, Mint, Very Good, Good, Acceptable, Poor, Club, OEM, Warranty, Refurbished Warranty, Refurbished, Open Box, Any, and Other.'),
  `buyer_requested_cancel_reason` STRING OPTIONS(description = 'The reason that the buyer requested cancellation.'),
  `is_buyer_requested_cancel` BOOL OPTIONS(description = 'Boolean indicating whether the buyer has requested cancellation.'),
  `deemed_reseller_category` STRING OPTIONS(description = 'The category of deemed reseller. This applies to selling partners that are not based in the EU and is used to help them meet the VAT Deemed Reseller tax laws in the EU and UK. Either `IOSS` (Import one stop shop. The item being purchased is not held in the EU for shipment) or `UOSS` (Union one stop shop. The item being purchased is held in the EU for shipment).'),
  `ioss_number` STRING OPTIONS(description = 'The IOSS number of the marketplace. Sellers shipping to the EU from outside the EU must provide this IOSS number to their carrier when Amazon has collected the VAT on the sale.'),
  `is_gift` BOOL OPTIONS(description = 'Boolean that tndicates whether the item is a gift.'),
  `is_transparency` BOOL OPTIONS(description = 'When true, the ASIN is enrolled in Transparency. The Transparency serial number that you must submit is determined by: - 1D or 2D Barcode: This has a T logo. Submit either the 29-character alpha-numeric identifier beginning with AZ or ZA, or the 38-character Serialized Global Trade Item Number (SGTIN). - 2D Barcode SN: Submit the 7- to 20-character serial number barcode, which likely has the prefix SN. The serial number is applied to the same side of the packaging as the GTIN (UPC/EAN/ISBN) barcode. - QR code SN: Submit the URL that the QR code generates.'),
  `is_serial_number_required` BOOL OPTIONS(description = 'When true, the product type for this item has a serial number. Only returned for Amazon Easy Ship orders.'),
  `store_chain_store_id` STRING OPTIONS(description = 'The store chain store identifier. Linked to a specific store in a store chain.'),
  `tax_collection_model` STRING OPTIONS(description = 'The tax collection model applied to the item. Possible value(s) can be found [here](https://developer-docs.amazon.com/sp-api/docs/orders-api-v0-reference#model).'),
  `tax_collection_responsible_party` STRING OPTIONS(description = 'The party responsible for withholding the taxes and remitting them to the taxing authority. Possible value(s) can be found [here](https://developer-docs.amazon.com/sp-api/docs/orders-api-v0-reference#responsibleparty).'),
  `order_purchase_date` TIMESTAMP OPTIONS(description = 'The date when the order was created.'),
  `order_total_amount` NUMERIC OPTIONS(description = 'The total charge for this order.'),
  `order_total_currency_code` STRING OPTIONS(description = 'The three-digit currency code in which the order total is measured. In ISO 4217 format.'),
  `order_status` STRING OPTIONS(description = 'The current order status. Possible values can be found [here](https://developer-docs.amazon.com/sp-api/docs/orders-api-v0-reference#orderstatus).'),
  `marketplace_id` STRING OPTIONS(description = 'The unobfuscated marketplace identifier. Different marketplace values can be found [here](https://developer-docs.amazon.com/sp-api/docs/marketplace-ids).'),
  `order_total_number_of_items_shipped` INT64 OPTIONS(description = 'The number of items shipped for the order.'),
  `order_total_number_of_items_unshipped` INT64 OPTIONS(description = 'The number of items unshipped for the order.'),
  `count_promotions_used` INT64 OPTIONS(description = 'The count of distinct promotions used.'),
  `item_name` STRING OPTIONS(description = 'Name, or title, associated with an Amazon catalog item.'),
  `display_name` STRING OPTIONS(description = 'Display name for the classification.'),
  `brand` STRING OPTIONS(description = 'Name of the brand associated with an Amazon catalog item.'),
  `color` STRING OPTIONS(description = 'Name of the color associated with an Amazon catalog item.'),
  `size` STRING OPTIONS(description = 'Name of the size associated with an Amazon catalog item.'),
  `style` STRING OPTIONS(description = 'Name of the style associated with an Amazon catalog item.'),
  `product_type` STRING OPTIONS(description = 'Name of the product type associated with the Amazon catalog item.'),
  `package_quantity` INT64 OPTIONS(description = 'Quantity of an Amazon catalog item in one package.'),
  `item_classification` STRING OPTIONS(description = 'Classification type associated with the Amazon catalog item. Possible values can be found [here](https://developer-docs.amazon.com/sp-api/docs/catalog-items-api-v2022-04-01-reference#itemclassification).')
)
OPTIONS (description = 'Order items data from the Amazon Selling Partner API');